# RAG Analysis - Configuration

# Project settings
project:
  name: "RAG-Analysis-HotpotQA"
  description: "Evaluating RAG impact on hallucination reduction in small LLMs"
  version: "1.0.0"

# Random seed for reproducibility
seed: 42

# Dataset configuration
dataset:
  name: "hotpot_qa"
  subset: "fullwiki"
  split: "validation"
  subset_size: 100
  sampling_strategy: "random"  # Options: random, balanced
  
# Model configuration
model:
  name: "mistralai/Mistral-7B-Instruct-v0.2"
  # Alternative models:
  # - "meta-llama/Llama-3-8B-Instruct"
  # - "mistralai/Mistral-7B-Instruct-v0.1"
  device: "auto"  # auto, cuda, mps, cpu
  load_in_8bit: false  # Set to true if memory is constrained
  temperature: 0.7
  max_new_tokens: 100

# Retrieval configuration
retrieval:
  encoder_model: "sentence-transformers/all-MiniLM-L6-v2"
  chunk_size: 300  # tokens (approximated by words)
  chunk_overlap: 75  # tokens
  k_values: [1, 3, 5]  # Different k values to test
  
# Evaluation configuration
evaluation:
  conditions:
    - "no_rag"
    - "rag_k1"
    - "rag_k3"
    - "rag_k5"
  
  metrics:
    - "exact_match"
    - "token_f1"
    - "hallucination_rate"
    - "retrieval_recall"
    - "mrr"
  
  statistical_tests:
    - "mcnemar"  # For paired comparisons
    - "correlation"  # Spearman correlation

# Paths
paths:
  data_dir: "data"
  results_dir: "results"
  logs_dir: "logs"
  checkpoints_dir: "checkpoints"
  
  # Specific file paths
  dataset_subset: "data/hotpotqa_subset.json"
  corpus: "data/corpus.json"
  index: "data/faiss_index.bin"
  results_csv: "results/evaluation_results.csv"
  aggregated_results: "results/aggregated_metrics.json"

# Experiment tracking
experiment:
  track_memory: true
  save_predictions: true
  save_retrieved_passages: true
  error_analysis_samples: 10

# Hallucination detection
hallucination:
  use_llm_judge: false  # Set to true to use LLM-as-judge (requires additional API)
  manual_annotation_required: true
  annotation_sample_size: 100
  
# Logging
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  console: true
  file: true
